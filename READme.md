    Проект создан для просмотра и доступа к данным о более чем 470 000 произведений искусства The Metropolitan Museum of Art Collection API

    В процессе работы над проектом созданы следующие компоненты:
MuseumView.tsx - является умным компонентом, то есть он отвечает за логику и состояние приложения. Он позволяет пользователю вводить поисковый запрос по ID объекта музея и получать информацию о нем с помощью API музея Метрополитен. Он также отображает список объектов музея, полученных по ключевому слову "art", и позволяет добавлять новые объекты в список. Он использует хуки useState, useEffect и useCallback для управления состоянием и эффектами, а также функции fetchMuseumObjects и fetchMuseumInfo из файла api.ts для отправки запросов к API. Он рендерит форму для ввода запроса, кнопку для отправки запроса, изображение и таблицу с информацией об объекте музея, если он найден, и список и кнопку для добавления новых объектов.

MuseumText.tsx - также является умным компонентом, но с другой логикой. Он позволяет пользователю вводить поисковый запрос по ключевому слову и получать список объектов музея, связанных с этим словом. Он также позволяет пользователю вводить ID объекта музея и получать информацию о нем. Он использует хук useState для хранения значения инпута, ответа от API и ошибки, а также хук useEffect для отправки запросов при изменении инпута. Он также использует функции fetchMuseumObjects и fetchMuseumInfo из файла api.ts для отправки запросов к API, а также функцию convertToMuseumArtwork для преобразования ответа от API в массив объектов типа IMuseumArtwork. Он рендерит форму для ввода запроса, кнопку для отправки запроса, изображение и таблицу с информацией об объекте музея, если он найден, и список объектов музея, полученных по ключевому слову.

Spinner.tsx - является глупым компонентом, то есть он не имеет логики и состояния, а только отвечает за отображение. Он рендерит анимированный спиннер в виде круга с вращающимися точками разного цвета и прозрачности. Он использует SVG элементы и атрибуты для создания спиннера, а также анимационные теги для задания параметров анимации. Он не принимает никаких пропсов и не взаимодействует с другими компонентами.

api.tsx – содержит функции для взаимодействия с API музея. Функции используют библиотеку axios для отправки HTTP-запросов к базовому URL API. Функции также определяют интерфейсы для типизации ответов API и произведений искусства. Функция fetchMuseumObjects принимает ключевое слово и возвращает массив номеров объектов, соответствующих поисковому запросу. Функция fetchMuseumInfo принимает номер объекта и возвращает информацию о нем, такую как изображение, имя художника, культура, период и год поступления. Этот файл используется в компонентах MuseumView и MuseumText для получения данных о объектах музея.
FavoritesPage.tsx - отображает список избранных объектов музея, добавленных пользователем. Он использует хук useSelector для получения массива избранных объектов из стора редакса, и хук useDispatch для диспатчинга экшена removeFavorite, который удаляет объект из списка по его ID. Он рендерит заголовок, и список элементов с ID объекта и кнопкой для удаления.

LoginPage.tsx - позволяет пользователю ввести свое имя и пароль и войти в систему. Он использует компонент GeneralForm, который является общим компонентом для создания форм с валидацией и обработкой данных. Он также использует хук useDispatch для диспатчинга экшена login, который сохраняет данные пользователя в сторе редакса. Он рендерит заголовок и компонент GeneralForm с соответствующими пропсами.
SearchPage.tsx - позволяет пользователю вводить поисковый запрос и получать результаты с помощью API музея Метрополитен. Он использует хук useState для хранения значения инпута, хук useEffect для отправки запроса при изменении инпута, и хук useCallback для создания функции debounce, которая задерживает отправку запроса на 500 миллисекунд, чтобы избежать излишнего количества запросов. Он также использует хук useSelector для получения данных из стора редакса, и хук useDispatch для диспатчинга экшенов. Он рендерит инпут для ввода запроса, и список карточек с информацией о найденных объектах музея.

NotFoundPage.tsx - отображает сообщение об ошибке 404, когда пользователь пытается перейти на несуществующую страницу. Он использует компоненты Container и Text из библиотеки @mantine/core для создания простого и стильного интерфейса. Он рендерит контейнер с текстом 404 и No such page.

Routing.tsx - отвечает за маршрутизацию приложения с помощью библиотеки react-router-dom. Он импортирует другие компоненты страниц из проекта с помощью функции lazy, которая позволяет загружать их по требованию, а не сразу. Он также использует компонент Suspense для отображения загрузочного индикатора во время ожидания загрузки страниц. Он использует компоненты Router, Route и Routes для определения путей и соответствующих элементов страниц. Он рендерит роутер с вложенными роутами для главной страницы, страницы поиска, страницы избранного, страницы входа и страницы ошибки 404.

RegistrationForm.tsx - позволяет пользователю ввести свое имя и пароль и зарегистрироваться в системе. Он использует компоненты Formik, Form, Field и ErrorMessage из библиотеки formik для создания формы с валидацией и обработкой данных. Он также использует библиотеку Yup для определения схемы валидации, которая передается в пропсах. Он рендерит форму с двумя полями для имени и пароля, сообщениями об ошибках и кнопкой для отправки формы. Он также определяет функцию handleSubmit, которая вызывается при отправке формы и реализует логику регистрации.

LoginForm.tsx - позволяет пользователю ввести свое имя и пароль и войти в систему. Он также использует компоненты Formik, Form, Field и ErrorMessage из библиотеки formik для создания формы с валидацией и обработкой данных. Он также использует библиотеку Yup для определения схемы валидации, которая передается в пропсах. Он рендерит форму с двумя полями для имени и пароля, сообщениями об ошибках и кнопкой для отправки формы. Он также принимает функцию handleLogin в пропсах, которая вызывается при отправке формы и реализует логику входа.

GeneralForm.tsx - является общим компонентом для создания форм с разными полями и функциональностью. Он также использует компоненты Formik, Form, ErrorMessage, FieldArray и FastField из библиотеки formik для создания формы с валидацией и обработкой данных. Он также принимает схему валидации, заголовок, текст кнопки и функцию handleSubmit в пропсах. Он рендерит форму с заголовком, массивом полей с разными типами и значениями, сообщениями об ошибках, кнопками для удаления полей и кнопкой для отправки формы. Он также использует компонент FastField для оптимизации производительности при рендеринге полей.

Также созданы slices:

artworksSlice.ts - слайс редакса для работы с данными об объектах музея. Он определяет интерфейс IArtwork для типизации объектов, и тип ArtworksState для типизации массива объектов. Он также создает слайс с помощью функции createSlice из библиотеки @reduxjs/toolkit, которая упрощает создание редюсера и экшенов. Он задает имя слайса, начальное состояние, и четыре редюсера: setArtworks, addArtwork, updateArtwork и deleteArtwork, которые соответственно устанавливают, добавляют, обновляют и удаляют объекты музея в сторе. Он также экспортирует созданные экшены и редюсер.

authSlice.ts - слайс редакса для работы с данными об аутентификации пользователя. Он определяет интерфейс IUser для типизации данных пользователя, и интерфейс IAuthState для типизации состояния аутентификации. Он также создает слайс с помощью функции createSlice из библиотеки @reduxjs/toolkit. Он задает имя слайса, начальное состояние, и два редюсера: login и logout, которые соответственно устанавливают и сбрасывают флаг loggedIn и данные пользователя в сторе. Он также экспортирует созданные экшены и редюсер.

exhibitionsSlice.ts - слайс редакса для работы с данными об выставках музея. Он определяет интерфейс IExhibition для типизации данных об выставке, и тип ExhibitionsState для типизации массива выставок. Он также создает слайс с помощью функции createSlice из библиотеки @reduxjs/toolkit. Он задает имя слайса, начальное состояние, и четыре редюсера: setExhibitions, addExhibition, updateExhibition и deleteExhibition, которые соответственно устанавливают, добавляют, обновляют и удаляют выставки в сторе. Он также экспортирует созданные экшены, селектор selectExhibitions для получения данных из стора, и редюсер.

favoritesSlice.ts - слайс редакса для работы с данными об избранных объектах музея. Он определяет интерфейс IFavorite для типизации данных об избранном объекте, и тип FavoritesState для типизации массива избранных объектов. Он также создает слайс с помощью функции createSlice из библиотеки @reduxjs/toolkit. Он задает имя слайса, начальное состояние, и два редюсера: addFavorite и removeFavorite, которые соответственно добавляют и удаляют избранные объекты в сторе. Он также экспортирует созданные экшены, селектор selectFavorites для получения данных из стора, и редюсер.

searchSlice.ts - слайс редакса для работы с данными о поисковом запросе пользователя. Он определяет тип string для типизации поискового запроса. Он также создает слайс с помощью функции createSlice из библиотеки @reduxjs/toolkit. Он задает имя слайса, начальное состояние, и один редюсер: setSearchQuery, который устанавливает поисковый запрос в сторе. Он также экспортирует созданный экшен и редюсер.

Использование в проекте Redux:
authSlice.tsx - содержит слайс редакса для работы с данными об аутентификации пользователя. Он определяет интерфейс User для типизации данных пользователя, и интерфейс IAuthState для типизации состояния аутентификации. Он также создает асинхронный экшен login с помощью функции createAsyncThunk из библиотеки @reduxjs/toolkit, который отправляет HTTP запрос на эндпоинт /api/login с данными пользователя и возвращает данные пользователя в случае успеха. Он также создает слайс с помощью функции createSlice из библиотеки @reduxjs/toolkit, которая упрощает создание редюсера и экшенов. Он задает имя слайса, начальное состояние, один редюсер logout, который сбрасывает состояние аутентификации, и три extraReducers, которые обрабатывают разные стадии асинхронного экшена login: pending, fulfilled и rejected. Он также экспортирует созданный экшен logout и редюсер.

store.tsx - содержит настройку хранилища Redux для управления состоянием приложения. Файл использует функции combineReducers, configureStore и useDispatch из библиотеки @reduxjs/toolkit. Файл также импортирует middleware из middleware/loggerMiddleware, middleware/authMiddleware и redux/RTKapi. Файл также импортирует редьюсеры из features/artworksSlice, features/authSlice, features/exhibitionsSlice, features/favoritesSlice и features/searchSlice. Файл определяет тип RootState для типизации состояния приложения. Файл объединяет редьюсеры в корневой редьюсер с помощью combineReducers. Файл создает хранилище с помощью configureStore, передавая корневой редьюсер и middleware в качестве параметров. Файл также отключает проверку на несериализуемые данные для RTK-Query. Файл экспортирует тип AppDispatch для типизации диспетчера хранилища и хук useAppDispatch для использования диспетчера в компонентах.

RTKapi.ts - содержит настройку RTK-Query API для взаимодействия с API музея. Файл использует функции createApi и fetchBaseQuery из библиотеки @reduxjs/toolkit/query/react. Файл также определяет интерфейс для типизации ответов API. Файл создает базовый запрос с помощью fetch и базового URL API. Файл создает экземпляр RTK-Query API с двумя конечными точками: fetchMuseumObjects и fetchMuseumInfo, которые принимают ключевое слово и номер объекта соответственно и возвращают массив номеров объектов или информацию об объекте. Файл также экспортирует хуки, сгенерированные RTK-Query.


UsersList.tsx - отображает список пользователей на экране. Он использует хук useGetUsersQuery из файла RTKapi.ts для получения данных о пользователях, и проверяет состояние загрузки, ошибки и данных. Если данные загружены успешно, он рендерит список элементов с именами пользователей.

Применение Контекст API
ApiContext.tsx - содержит контекст React для передачи данных и функций для работы с произведениями искусства между компонентами. Файл использует функции createContext, useMemo, useCallback и ReactNode из библиотеки react. Файл также импортирует интерфейс IArtwork из ./types. Файл определяет интерфейс IApiContextType для типизации контекста. Файл создает контекст с помощью createContext и передает в него объект с пустым массивом произведений искусства и пустыми функциями для добавления и удаления произведений. Файл также создает компонент ApiProvider, который принимает дочерние компоненты в качестве пропсов. Компонент использует хук useState для управления массивом произведений искусства в состоянии. Компонент также использует хуки useCallback и useMemo для создания функций для добавления и удаления произведений искусства и значения контекста соответственно. Компонент рендерит дочерние компоненты внутри ApiContext.Provider и передает в него значение контекста. Файл экспортирует контекст по умолчанию и компонент ApiProvider.

ApiProvider.tsx - одержит компонент React, который оборачивает дочерние компоненты в ApiContext.Provider и передает в него данные и функции для работы с произведениями искусства из Redux. Файл использует функции ReactNode, useMemo, useCallback из библиотеки react. Файл также импортирует функции useSelector, useDispatch из библиотеки react-redux. Файл также импортирует функции selectExhibitions, selectFavorites из features/exhibitionsSlice и features/favoritesSlice. Файл также импортирует ApiContext из ./ApiContext. Файл также импортирует интерфейс IArtwork из features/types. Файл также импортирует тип RootState из ../redux/store с помощью import type для исправления ошибки импорта. Файл определяет интерфейс IApiProviderProps для типизации пропсов компонента. Файл создает компонент ApiProvider, который принимает дочерние компоненты в качестве пропсов. Компонент использует хук useSelector для получения данных о произведениях искусства, выставках и избранных из хранилища Redux. Компонент также использует хук useDispatch для получения диспетчера хранилища Redux. Компонент использует хук useCallback для создания функции addArtwork, которая диспатчит экшн ADD_ARTWORK с произведением искусства в качестве полезной нагрузки. Компонент также создает пустую функцию removeArtwork с помощью useCallback. Компонент использует хук useMemo для создания значения контекста, которое содержит данные и функции для работы с произведениями искусства. Компонент рендерит дочерние компоненты внутри ApiContext.Provider и передает в него значение контекста. Файл экспортирует компонент ApiProvider по умолчанию.

ErrorBoundary.tsx - содержит классовый компонент React, который отлавливает ошибки в дочерних компонентах и отображает сообщение об ошибке вместо них. Компонент использует методы жизненного цикла getDerivedStateFromError и componentDidCatch для обновления состояния и логирования ошибок. Компонент также определяет интерфейсы для типизации пропсов и состояния. Компонент имеет состояние hasError, которое указывает, произошла ли ошибка в дочерних компонентах. Компонент рендерит дочерние компоненты, если нет ошибки, или сообщение об ошибке, если есть.

App.tsx - содержит функциональный компонент React, который отображает главную страницу приложения. Компонент использует хуки useFormik, useAuth, useContext и useEffect для управления формой, аутентификацией, контекстом API и эффектами. Компонент также импортирует функции и компоненты из библиотек react-hook-form, yup, react-redux,./hooks/useAuth, ./ApiContext/ApiContext, ./ErrorBoundary/ErrorBoundary, ./components/MuseumView и ./redux/UsersList. Компонент также импортирует изображения из ./assets/met-museum-logo.png и ./assets/museum-image.jpg. Компонент рендерит шапку с логотипом музея, заголовком и формами для входа и регистрации. Компонент также рендерит изображение музея и компоненты MuseumView и UsersList внутри ErrorBoundary для перехвата ошибок. Компонент также экспортирует AppWrapper, который оборачивает App в Provider для Redux, AuthProvider для аутентификации и ApiContext.Provider для контекста API.
